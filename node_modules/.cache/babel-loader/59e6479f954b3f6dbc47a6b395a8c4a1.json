{"ast":null,"code":"import _toConsumableArray from\"C:/Users/Khadiza Khatun/Desktop/hridoy/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _asyncToGenerator from\"C:/Users/Khadiza Khatun/Desktop/hridoy/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _defineProperty from\"C:/Users/Khadiza Khatun/Desktop/hridoy/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _objectSpread from\"C:/Users/Khadiza Khatun/Desktop/hridoy/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"C:/Users/Khadiza Khatun/Desktop/hridoy/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _regeneratorRuntime from\"C:\\\\Users\\\\Khadiza Khatun\\\\Desktop\\\\hridoy\\\\node_modules\\\\@babel\\\\runtime\\\\regenerator\\\\index.js\";import React,{useState,useEffect}from'react';import{doc,updateDoc,arrayUnion,increment}from'firebase/firestore';import{db}from'../firebase/firestore';import{useUser}from\"../context/userContext\";import{IoCheckmarkCircleSharp,IoCheckmarkCircle,IoClose}from'react-icons/io5';import{CiNoWaitingSign}from'react-icons/ci';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var YouTubeTasks=function YouTubeTasks(){var _useState=useState({}),_useState2=_slicedToArray(_useState,2),showVerifyButtons=_useState2[0],setShowVerifyButtons=_useState2[1];var _useState3=useState({}),_useState4=_slicedToArray(_useState3,2),countdowns=_useState4[0],setCountdowns=_useState4[1];var _useState5=useState({}),_useState6=_slicedToArray(_useState5,2),buttonText=_useState6[0],setButtonText=_useState6[1];var _useState7=useState(false),_useState8=_slicedToArray(_useState7,2),modalOpen=_useState8[0],setModalOpen=_useState8[1];var _useState9=useState(''),_useState10=_slicedToArray(_useState9,2),modalMessage=_useState10[0],setModalMessage=_useState10[1];var _useState11=useState({}),_useState12=_slicedToArray(_useState11,2),claiming=_useState12[0],setClaiming=_useState12[1];var _useState13=useState({}),_useState14=_slicedToArray(_useState13,2),submittedYt=_useState14[0],setSubmittedYt=_useState14[1];var _useUser=useUser(),userId=_useUser.id,youtubeTasks=_useUser.youtubeTasks,setTaskPoints=_useUser.setTaskPoints,userYoutubeTasks=_useUser.userYoutubeTasks,setUserYoutubeTasks=_useUser.setUserYoutubeTasks,setBalance=_useUser.setBalance;var _useState15=useState(0),_useState16=_slicedToArray(_useState15,2),claimedBonus=_useState16[0],setClaimedBonus=_useState16[1];var _useState17=useState(false),_useState18=_slicedToArray(_useState17,2),congrats=_useState18[0],setCongrats=_useState18[1];var _useState19=useState(null),_useState20=_slicedToArray(_useState19,2),openTask=_useState20[0],setOpenTask=_useState20[1];var _useState21=useState(false),_useState22=_slicedToArray(_useState21,2),active=_useState22[0],setActive=_useState22[1];useEffect(function(){var handleBackButtonClick=function handleBackButtonClick(){setOpenTask(false);};if(openTask){window.Telegram.WebApp.BackButton.show();window.Telegram.WebApp.BackButton.onClick(handleBackButtonClick);}else{window.Telegram.WebApp.BackButton.hide();window.Telegram.WebApp.BackButton.offClick(handleBackButtonClick);}return function(){window.Telegram.WebApp.BackButton.offClick(handleBackButtonClick);};},[openTask]);var performTask=function performTask(taskId){var task=youtubeTasks.find(function(task){return task.id===taskId;});if(task){window.open(task.link,'_blank');setTimeout(function(){setShowVerifyButtons(function(prevState){return _objectSpread(_objectSpread({},prevState),{},_defineProperty({},taskId,true));});},120000);setTimeout(function(){setActive(true);},2000);}};var startCountdown=function startCountdown(taskId){setCountdowns(function(prevState){return _objectSpread(_objectSpread({},prevState),{},_defineProperty({},taskId,5));});setButtonText(function(prevState){return _objectSpread(_objectSpread({},prevState),{},_defineProperty({},taskId,'Verifying'));});var countdownInterval=setInterval(function(){setCountdowns(function(prevCountdowns){var newCountdown=prevCountdowns[taskId]-1;if(newCountdown<=0){clearInterval(countdownInterval);setCountdowns(function(prevState){return _objectSpread(_objectSpread({},prevState),{},_defineProperty({},taskId,null));});setButtonText(function(prevState){return _objectSpread(_objectSpread({},prevState),{},_defineProperty({},taskId,'Verifying'));});var saveTaskToUser=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var userDocRef,updatedUserYoutubeTasks;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;userDocRef=doc(db,'telegramUsers',userId);updatedUserYoutubeTasks=[].concat(_toConsumableArray(userYoutubeTasks),[{taskId:taskId,completed:false}]);_context.next=5;return updateDoc(userDocRef,{youtubeTasks:arrayUnion({taskId:taskId,completed:false})});case 5:setUserYoutubeTasks(updatedUserYoutubeTasks);// Update state to reflect the saved task\nconsole.log(\"Task \".concat(taskId,\" added to user's youtubeTasks collection\"));_context.next=12;break;case 9:_context.prev=9;_context.t0=_context[\"catch\"](0);console.error(\"Error adding task to user's document: \",_context.t0);case 12:case\"end\":return _context.stop();}}},_callee,null,[[0,9]]);}));return function saveTaskToUser(){return _ref.apply(this,arguments);};}();saveTaskToUser();setSubmittedYt(function(prevState){return _objectSpread(_objectSpread({},prevState),{},_defineProperty({},taskId,true));});localStorage.setItem(\"submittedYt_\".concat(taskId),true);return _objectSpread(_objectSpread({},prevCountdowns),{},_defineProperty({},taskId,null));}return _objectSpread(_objectSpread({},prevCountdowns),{},_defineProperty({},taskId,newCountdown));});},1000);};var claimTask=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(taskId){var task,userDocRef;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:setClaiming(function(prevState){return _objectSpread(_objectSpread({},prevState),{},_defineProperty({},taskId,true));});_context2.prev=1;task=youtubeTasks.find(function(task){return task.id===taskId;});userDocRef=doc(db,'telegramUsers',userId);_context2.next=6;return updateDoc(userDocRef,{youtubeTasks:userYoutubeTasks.map(function(task){return task.taskId===taskId?_objectSpread(_objectSpread({},task),{},{completed:true}):task;}),balance:increment(task.bonus),taskPoints:increment(task.bonus)});case 6:setBalance(function(prevBalance){return prevBalance+task.bonus;});setTaskPoints(function(prevTaskPoints){return prevTaskPoints+task.bonus;});console.log(\"Task \".concat(taskId,\" marked as completed\"));setUserYoutubeTasks(function(prevTasks){return prevTasks.map(function(task){return task.taskId===taskId?_objectSpread(_objectSpread({},task),{},{completed:true}):task;});});setModalMessage(/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"w-full flex justify-center flex-col items-center space-y-3\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"w-full items-center justify-center flex flex-col space-y-2\",children:[/*#__PURE__*/_jsx(IoCheckmarkCircleSharp,{size:32,className:\"text-btn4\"}),/*#__PURE__*/_jsx(\"p\",{className:\"font-medium text-center\",children:\"Let's go!!\"})]}),/*#__PURE__*/_jsxs(\"h3\",{className:\"font-medium text-[20px] text-[#ffffff] pt-2 pb-2\",children:[/*#__PURE__*/_jsxs(\"span\",{className:\"text-btn4\",children:[\"+\",formatNumber(task.bonus)]}),\" $PDF CLAIMED\"]}),/*#__PURE__*/_jsx(\"p\",{className:\"pb-6 text-[15px] w-full text-center\",children:\"Keep performing new tasks! something huge is coming! Perform more and earn more $PDF now!\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"w-full flex justify-center\",children:/*#__PURE__*/_jsx(\"button\",{onClick:closeModal,className:\"bg-btn4 text-[#000]  w-full py-3 px-3 flex items-center justify-center text-center rounded-[12px] font-semibold text-[16px]\",children:\"Continue tasks\"})})]}));setModalOpen(true);setClaimedBonus(task.bonus);setCongrats(true);setTimeout(function(){setCongrats(false);},4000);_context2.next=20;break;case 17:_context2.prev=17;_context2.t0=_context2[\"catch\"](1);console.error(\"Error updating task status to completed: \",_context2.t0);case 20:setClaiming(function(prevState){return _objectSpread(_objectSpread({},prevState),{},_defineProperty({},taskId,false));});case 21:case\"end\":return _context2.stop();}}},_callee2,null,[[1,17]]);}));return function claimTask(_x){return _ref2.apply(this,arguments);};}();var closeModal=function closeModal(){setModalOpen(false);setOpenTask(false);};var closeModal2=function closeModal2(){setModalOpen(false);setActive(false);};useEffect(function(){var submittedStatesYt=youtubeTasks.reduce(function(acc,task){var submittedStateYt=localStorage.getItem(\"submittedYt_\".concat(task.id))==='true';acc[task.id]=submittedStateYt;return acc;},{});setSubmittedYt(submittedStatesYt);// eslint-disable-next-line\n},[]);var formatNumber=function formatNumber(num){if(num<100000){return new Intl.NumberFormat().format(num).replace(/,/g,\" \");}else if(num<1000000){return new Intl.NumberFormat().format(num).replace(/,/g,\" \");}else{return(num/1000000).toFixed(3).replace(\".\",\".\")+\" M\";}};return/*#__PURE__*/_jsxs(_Fragment,{children:[youtubeTasks.sort(function(a,b){return a.id-b.id;}).map(function(task){var userTask=userYoutubeTasks.find(function(t){return t.taskId===task.id;});var isTaskCompleted=userTask?userTask.completed:false;return/*#__PURE__*/_jsxs(\"div\",{onClick:function onClick(){return setOpenTask(task);},className:\"w-full rounded-[16px] py-3 flex items-center justify-between space-x-1\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-fit pr-2\",children:/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center justify-center bg-[#1f2023] h-[45px] w-[45px] rounded-full p-1\",children:/*#__PURE__*/_jsx(\"img\",{alt:\"engy\",src:task.icon,className:\"w-[20px]\"})})}),/*#__PURE__*/_jsx(\"div\",{className:\"flex h-full flex-1 flex-col justify-center relative\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex w-full flex-col justify-between h-full space-y-1\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-[15px] text-nowrap line-clamp-1 font-medium\",children:task.title}),/*#__PURE__*/_jsx(\"span\",{className:\"flex text-secondary items-center w-fit text-[15px]\",children:/*#__PURE__*/_jsxs(\"span\",{className:\"\",children:[\"+\",formatNumber(task.bonus),\" $PDF\"]})})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"w-fit flex items-center justify-end flex-wrap text-[14px] relative\",children:isTaskCompleted?/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(\"span\",{className:\"\",children:/*#__PURE__*/_jsx(IoCheckmarkCircleSharp,{size:28,className:\"text-accent\"})})}):/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){return setOpenTask(task);},className:\"bg-[#1f2023] hover:bg-[#36373c] text-[#fff] w-fit py-[10px] rounded-[30px] px-5 font-semibold ease-in duration-200\",children:\"Start\"})})})]},task.id);}),openTask&&/*#__PURE__*/_jsx(TaskModal,{task:openTask,onClose:function onClose(){return setOpenTask(null);},performTask:performTask,startCountdown:startCountdown,claimTask:claimTask,active:active,setActive:setActive,showVerifyButtons:showVerifyButtons,countdowns:countdowns,buttonText:buttonText,submittedYt:submittedYt,claiming:claiming,userYoutubeTasks:userYoutubeTasks,modalMessage:modalMessage,setModalMessage:setModalMessage,setModalOpen:setModalOpen,modalOpen:modalOpen,closeModal:closeModal,closeModal2:closeModal2,congrats:\"/congrats.gif\",claimedBonus:claimedBonus}),/*#__PURE__*/_jsx(\"div\",{className:\"w-full absolute top-[50px] left-0 right-0 flex justify-center z-[60] pointer-events-none select-none\",children:congrats?/*#__PURE__*/_jsx(\"img\",{src:\"/congrats.gif\",alt:\"congrats\",className:\"w-[80%]\"}):/*#__PURE__*/_jsx(_Fragment,{})}),/*#__PURE__*/_jsx(\"div\",{className:\"\".concat(modalOpen?\"visible\":\"invisible\",\" fixed top-[-12px] bottom-0 left-0 z-50 right-0 h-[100vh] bg-[#00000042] flex justify-center items-center backdrop-blur-[6px] px-4\"),children:/*#__PURE__*/_jsx(\"div\",{className:\"\".concat(modalOpen?\"opacity-100 mt-0 ease-in duration-300\":\"opacity-0 mt-[100px]\",\" w-full bg-modal relative rounded-[16px] flex flex-col justify-center p-8\"),children:modalMessage})})]});};var TaskModal=function TaskModal(_ref3){var task=_ref3.task,onClose=_ref3.onClose,performTask=_ref3.performTask,startCountdown=_ref3.startCountdown,claimTask=_ref3.claimTask,showVerifyButtons=_ref3.showVerifyButtons,countdowns=_ref3.countdowns,buttonText=_ref3.buttonText,submittedYt=_ref3.submittedYt,claiming=_ref3.claiming,userYoutubeTasks=_ref3.userYoutubeTasks,active=_ref3.active,setActive=_ref3.setActive,modalMessage=_ref3.modalMessage,modalOpen=_ref3.modalOpen,closeModal=_ref3.closeModal,setModalMessage=_ref3.setModalMessage,setModalOpen=_ref3.setModalOpen,closeModal2=_ref3.closeModal2,congrats=_ref3.congrats,claimedBonus=_ref3.claimedBonus;var isTaskSaved=!!userYoutubeTasks.find(function(t){return t.taskId===task.id;});var isTaskCompleted=isTaskSaved&&userYoutubeTasks.find(function(t){return t.taskId===task.id;}).completed;var formatNumber=function formatNumber(num){if(num<100000){return new Intl.NumberFormat().format(num).replace(/,/g,\" \");}else if(num<1000000){return new Intl.NumberFormat().format(num).replace(/,/g,\" \");}else{return(num/1000000).toFixed(3).replace(\".\",\".\")+\" M\";}};var notVerified=function notVerified(){setModalOpen(true);setModalMessage(/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"w-full flex justify-center flex-col items-center space-y-3\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"w-full items-center justify-center flex flex-col space-y-2\",children:[/*#__PURE__*/_jsx(CiNoWaitingSign,{size:32,className:\"text-btn4\"}),/*#__PURE__*/_jsx(\"p\",{className:\"font-medium text-center\",children:\"You have not watched this video completely yet!\"})]}),/*#__PURE__*/_jsx(\"p\",{className:\"pb-6 text-[#9a96a6] text-[15px] w-full text-center\",children:\"Click on the watch video button and ensure you watch the video completely before you come back to claim your reward.\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"w-full flex justify-center\",children:/*#__PURE__*/_jsx(\"button\",{onClick:closeModal2,className:\"bg-btn4 text-[#000]  w-full py-3 px-3 flex items-center justify-center text-center rounded-[12px] font-semibold text-[16px]\",children:\"Okay, Understood!\"})})]}));};return/*#__PURE__*/_jsx(\"div\",{className:\"fixed z-50 left-0 right-0 top-[-12px] bottom-0 flex justify-center taskbg px-[16px]\",children:/*#__PURE__*/_jsx(\"div\",{className:\"w-full flex flex-col items-center justify-start pt-5\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex w-full flex-col\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-full flex justify-end pt-4 pb-8\",children:/*#__PURE__*/_jsx(\"button\",{onClick:onClose,className:\"flex items-center justify-center h-[32px] w-[32px] rounded-full bg-[#383838] absolute right-6 top-6 text-center font-medium text-[16px]\",children:/*#__PURE__*/_jsx(IoClose,{size:20,className:\"text-[#9995a4]\"})})}),/*#__PURE__*/_jsx(\"h1\",{className:\"text-[20px] font-semibold w-full text-center\",children:task.title}),/*#__PURE__*/_jsx(\"p\",{className:\"text-secondary text-[15px] font-medium pt-1 pb-4 w-full text-center\",children:task.description}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-cards rounded-[10px] p-[14px] flex items-center justify-between mb-3\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-1 items-center space-x-1\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"\",children:/*#__PURE__*/_jsx(\"img\",{src:\"/coin.webp\",className:\"w-[16px]\",alt:\"Coin Icon\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-1\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"font-semibold text-secondary\",children:\"Reward:\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"font-semibold\",children:[\"+\",formatNumber(task.bonus)]})]})]}),isTaskSaved||isTaskCompleted?/*#__PURE__*/_jsxs(\"span\",{className:\"text-center text-[14px] font-semibold text-[#49ee49] flex items-center space-x-1\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"\",children:\"Done\"}),/*#__PURE__*/_jsx(IoCheckmarkCircle,{size:20,className:\"\"})]}):/*#__PURE__*/_jsx(\"span\",{className:\"w-[14px] h-[14px] animate-pulse bg-btn4 rounded-full flex items-center\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-cards rounded-[10px] p-[14px] flex flex-col space-y-2 justify-center items-center\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-center items-center relative\",children:[/*#__PURE__*/_jsx(\"img\",{onClick:function onClick(){return performTask(task.id);},src:task.thumb,alt:\"thumb\",className:\"w-full aspect-video rounded-[8px]\"}),/*#__PURE__*/_jsx(\"img\",{onClick:function onClick(){return performTask(task.id);},src:\"/youtube.svg\",alt:\"rfcdsv\",className:\"absolute w-[60px]\"})]}),/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){return performTask(task.id);},className:\"w-full py-[10px] px-4 font-medium bg-btn hover:bg-btn3 hover:text-[#000] ease-in duration-200 rounded-[6px]\",children:\"Watch video\"}),isTaskSaved||isTaskCompleted?/*#__PURE__*/_jsx(\"span\",{className:\"w-full py-[10px] px-4 font-medium bg-cards text-center text-[#7cf47c] ease-in duration-200 rounded-[6px]\",children:\"Done\"}):/*#__PURE__*/_jsx(_Fragment,{}),/*#__PURE__*/_jsxs(\"div\",{className:\"w-full flex flex-col space-y-2 items-center justify-center\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"w-full flex items-center text-[14px] justify-center relative mt-1 mb-4\",children:[!showVerifyButtons[task.id]?/*#__PURE__*/_jsx(\"button\",{onClick:notVerified,disabled:!active,className:\"\".concat(active?'bg-btn4 text-[#000]':'bg-[#383838] text-[#888]',\" w-full py-3 px-4 font-semibold rounded-[6px] text-[17px]\"),children:\"Verify\"}):/*#__PURE__*/_jsx(_Fragment,{children:!isTaskSaved&&!isTaskCompleted&&/*#__PURE__*/_jsx(_Fragment,{children:countdowns[task.id]===undefined&&/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){return startCountdown(task.id);},className:\"\".concat(submittedYt[task.id]?\"bg-btn4 text-[#000]\":buttonText[task.id]||\"bg-btn4 text-[#000]\",\" \").concat(!showVerifyButtons[task.id]?\"!bg-[#383838] !text-[#888]\":\"bg-btn3 text-[#000]\",\" w-full py-3 px-4 font-semibold rounded-[6px] text-[17px]\"),disabled:!showVerifyButtons[task.id],children:submittedYt[task.id]?'Verify':'Verify'})})}),countdowns[task.id]!==null&&countdowns[task.id]!==undefined&&/*#__PURE__*/_jsxs(\"span\",{className:\"w-full py-3 px-4 font-medium text-center rounded-[6px] bg-[#383838] text-[#fff]\",children:[\"checking \",countdowns[task.id],\"s\"]})]}),/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){return claimTask(task.id);},className:\"\".concat(isTaskSaved&&!isTaskCompleted?'bg-btn4 text-[#000]':'bg-[#383838] text-[#888]',\" w-full py-4 px-3 mt-6 flex items-center rounded-[12px] justify-center text-center text-[18px] font-semibold\"),disabled:claiming[task.id]||!isTaskSaved||isTaskCompleted,children:!isTaskCompleted?'Finish Task':'Task Completed'})]})]})]})})});};export default YouTubeTasks;","map":{"version":3,"names":["React","useState","useEffect","doc","updateDoc","arrayUnion","increment","db","useUser","IoCheckmarkCircleSharp","IoCheckmarkCircle","IoClose","CiNoWaitingSign","YouTubeTasks","showVerifyButtons","setShowVerifyButtons","countdowns","setCountdowns","buttonText","setButtonText","modalOpen","setModalOpen","modalMessage","setModalMessage","claiming","setClaiming","submittedYt","setSubmittedYt","userId","id","youtubeTasks","setTaskPoints","userYoutubeTasks","setUserYoutubeTasks","setBalance","claimedBonus","setClaimedBonus","congrats","setCongrats","openTask","setOpenTask","active","setActive","handleBackButtonClick","window","Telegram","WebApp","BackButton","show","onClick","hide","offClick","performTask","taskId","task","find","open","link","setTimeout","prevState","startCountdown","countdownInterval","setInterval","prevCountdowns","newCountdown","clearInterval","saveTaskToUser","userDocRef","updatedUserYoutubeTasks","completed","console","log","error","localStorage","setItem","claimTask","map","balance","bonus","taskPoints","prevBalance","prevTaskPoints","prevTasks","formatNumber","closeModal","closeModal2","submittedStatesYt","reduce","acc","submittedStateYt","getItem","num","Intl","NumberFormat","format","replace","toFixed","sort","a","b","userTask","t","isTaskCompleted","icon","title","TaskModal","onClose","isTaskSaved","notVerified","description","thumb","undefined"],"sources":["C:/Users/Khadiza Khatun/Desktop/hridoy/src/Components/YoutubeTasks.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { doc, updateDoc, arrayUnion, increment } from 'firebase/firestore';\nimport { db } from '../firebase/firestore';\nimport { useUser } from \"../context/userContext\";\nimport { IoCheckmarkCircleSharp, IoCheckmarkCircle, IoClose } from 'react-icons/io5';\nimport { CiNoWaitingSign } from 'react-icons/ci';\n\n\nconst YouTubeTasks = () => {\n    const [showVerifyButtons, setShowVerifyButtons] = useState({});\n    const [countdowns, setCountdowns] = useState({});\n    const [buttonText, setButtonText] = useState({});\n    const [modalOpen, setModalOpen] = useState(false);\n    const [modalMessage, setModalMessage] = useState('');\n    const [claiming, setClaiming] = useState({});\n    const [submittedYt, setSubmittedYt] = useState({});\n    const { id: userId, youtubeTasks, setTaskPoints, userYoutubeTasks, setUserYoutubeTasks, setBalance } = useUser();\n    const [claimedBonus, setClaimedBonus] = useState(0);\n    const [congrats, setCongrats] = useState(false);\n    const [openTask, setOpenTask] = useState(null);\n    const [active, setActive] = useState(false);\n\n    useEffect(() => {\n        const handleBackButtonClick = () => {\n            setOpenTask(false);\n        };\n\n        if (openTask) {\n            window.Telegram.WebApp.BackButton.show();\n            window.Telegram.WebApp.BackButton.onClick(handleBackButtonClick);\n        } else {\n            window.Telegram.WebApp.BackButton.hide();\n            window.Telegram.WebApp.BackButton.offClick(handleBackButtonClick);\n        }\n\n        return () => {\n            window.Telegram.WebApp.BackButton.offClick(handleBackButtonClick);\n        };\n    }, [openTask]);\n\n    const performTask = (taskId) => {\n        const task = youtubeTasks.find(task => task.id === taskId);\n        if (task) {\n            window.open(task.link, '_blank');\n            setTimeout(() => {\n                setShowVerifyButtons(prevState => ({ ...prevState, [taskId]: true }));\n            }, 120000);\n            setTimeout(() => {\n                setActive(true)\n            }, 2000);\n        }\n    };\n\n    const startCountdown = (taskId) => {\n        setCountdowns(prevState => ({ ...prevState, [taskId]: 5 }));\n        setButtonText(prevState => ({ ...prevState, [taskId]: 'Verifying' }));\n\n        const countdownInterval = setInterval(() => {\n            setCountdowns(prevCountdowns => {\n                const newCountdown = prevCountdowns[taskId] - 1;\n                if (newCountdown <= 0) {\n                    clearInterval(countdownInterval);\n                    setCountdowns(prevState => ({ ...prevState, [taskId]: null }));\n                    setButtonText(prevState => ({ ...prevState, [taskId]: 'Verifying' }));\n\n                    const saveTaskToUser = async () => {\n                        try {\n                            const userDocRef = doc(db, 'telegramUsers', userId);\n                            const updatedUserYoutubeTasks = [...userYoutubeTasks, { taskId: taskId, completed: false }];\n                            await updateDoc(userDocRef, {\n                                youtubeTasks: arrayUnion({ taskId: taskId, completed: false })\n                            });\n                            setUserYoutubeTasks(updatedUserYoutubeTasks); // Update state to reflect the saved task\n                            console.log(`Task ${taskId} added to user's youtubeTasks collection`);\n                        } catch (error) {\n                            console.error(\"Error adding task to user's document: \", error);\n                        }\n                    };\n\n                    saveTaskToUser();\n\n                    setSubmittedYt(prevState => ({ ...prevState, [taskId]: true }));\n                    localStorage.setItem(`submittedYt_${taskId}`, true);\n\n                    return { ...prevCountdowns, [taskId]: null };\n                }\n                return { ...prevCountdowns, [taskId]: newCountdown };\n            });\n        }, 1000);\n    };\n    const claimTask = async (taskId) => {\n        setClaiming(prevState => ({ ...prevState, [taskId]: true }));\n        try {\n            const task = youtubeTasks.find(task => task.id === taskId);\n            const userDocRef = doc(db, 'telegramUsers', userId);\n            await updateDoc(userDocRef, {\n                youtubeTasks: userYoutubeTasks.map(task =>\n                    task.taskId === taskId ? { ...task, completed: true } : task\n                ),\n                balance: increment(task.bonus),\n                taskPoints: increment(task.bonus),\n            });\n            setBalance(prevBalance => prevBalance + task.bonus);\n            setTaskPoints(prevTaskPoints => prevTaskPoints + task.bonus);\n            console.log(`Task ${taskId} marked as completed`);\n            setUserYoutubeTasks(prevTasks =>\n                prevTasks.map(task =>\n                    task.taskId === taskId ? { ...task, completed: true } : task\n                )\n            );\n\n            setModalMessage(\n                <>\n                <div className=\"w-full flex justify-center flex-col items-center space-y-3\">\n                    <div className=\"w-full items-center justify-center flex flex-col space-y-2\">\n                        <IoCheckmarkCircleSharp size={32} className=\"text-btn4\" />\n                        <p className='font-medium text-center'>Let's go!!</p>\n                    </div>\n                    <h3 className=\"font-medium text-[20px] text-[#ffffff] pt-2 pb-2\">\n                        <span className=\"text-btn4\">+{formatNumber(task.bonus)}</span> $PDF CLAIMED\n                    </h3>\n                    <p className=\"pb-6 text-[15px] w-full text-center\">\n                        Keep performing new tasks! something huge is coming! Perform more and earn more $PDF now! \n                    </p>\n                </div>\n                <div className=\"w-full flex justify-center\">\n            <button\n              onClick={closeModal}\n              className={`bg-btn4 text-[#000]  w-full py-3 px-3 flex items-center justify-center text-center rounded-[12px] font-semibold text-[16px]`}\n            >\n              Continue tasks\n            </button>\n          </div>\n                </>\n            );\n            setModalOpen(true);\n            setClaimedBonus(task.bonus);\n            setCongrats(true);\n\n            setTimeout(() => {\n                setCongrats(false);\n            }, 4000);\n        } catch (error) {\n            console.error(\"Error updating task status to completed: \", error);\n        }\n        setClaiming(prevState => ({ ...prevState, [taskId]: false }));\n    };\n\n    const closeModal = () => {\n        setModalOpen(false);\n        setOpenTask(false);\n    };\n\n    const closeModal2 = () => {\n        setModalOpen(false);\n        setActive(false);\n    };\n\n    useEffect(() => {\n        const submittedStatesYt = youtubeTasks.reduce((acc, task) => {\n            const submittedStateYt = localStorage.getItem(`submittedYt_${task.id}`) === 'true';\n            acc[task.id] = submittedStateYt;\n            return acc;\n        }, {});\n        setSubmittedYt(submittedStatesYt);\n        // eslint-disable-next-line\n    }, []);\n\n    const formatNumber = (num) => {\n        if (num < 100000) {\n            return new Intl.NumberFormat().format(num).replace(/,/g, \" \");\n        } else if (num < 1000000) {\n            return new Intl.NumberFormat().format(num).replace(/,/g, \" \");\n        } else {\n            return (num / 1000000).toFixed(3).replace(\".\", \".\") + \" M\";\n        }\n    };\n\n\n\n    return (\n        <>\n            {youtubeTasks\n                .sort((a, b) => a.id - b.id)\n                .map(task => {\n                    const userTask = userYoutubeTasks.find(t => t.taskId === task.id);\n                    const isTaskCompleted = userTask ? userTask.completed : false;\n                    return (\n   <div key={task.id} \n   onClick={() => setOpenTask(task)} \nclassName=\"w-full rounded-[16px] py-3 flex items-center justify-between space-x-1\">\n              \n              <div className='w-fit pr-2'>\n                <div className='flex items-center justify-center bg-[#1f2023] h-[45px] w-[45px] rounded-full p-1'>\n                  <img alt=\"engy\" src={task.icon} className='w-[20px]' />\n                </div>\n              </div>\n                <div className=\"flex h-full flex-1 flex-col justify-center relative\">\n                  <div className='flex w-full flex-col justify-between h-full space-y-1'>\n                    <h1 className=\"text-[15px] text-nowrap line-clamp-1 font-medium\">\n                    {task.title}\n                    </h1>\n                    <span className='flex text-secondary items-center w-fit text-[15px]'>\n                   \n                      <span className=''>\n                      +{formatNumber(task.bonus)} $PDF\n                      </span>\n                    </span>\n                  </div>\n                </div>\n                <div className='w-fit flex items-center justify-end flex-wrap text-[14px] relative'>\n\n                {isTaskCompleted ? (\n                                            <>\n                          <span className=''>\n                            <IoCheckmarkCircleSharp size={28} className={`text-accent`} />\n                          </span>\n                                            </>\n                                        ) : (\n                                            <>\n                            <button\n                            onClick={() => setOpenTask(task)}\n                            className={`bg-[#1f2023] hover:bg-[#36373c] text-[#fff] w-fit py-[10px] rounded-[30px] px-5 font-semibold ease-in duration-200`}\n                          >\n                           Start\n                          </button>\n                                                {/* <button\n                                                    onClick={() => setOpenTask(task)}\n                                                    className=\"w-fit py-[6px] px-4 font-medium bg-[#383838] text-[#888] ease-in duration-200 rounded-[6px]\"\n                                                >\n                                                    Pending\n                                                </button> */}\n                                            </>\n                                        )}\n\n        \n                </div>\n              </div>\n                  \n                    );\n                })}\n            {openTask && (\n                <TaskModal\n                    task={openTask}\n                    onClose={() => setOpenTask(null)}\n                    performTask={performTask}\n                    startCountdown={startCountdown}\n                    claimTask={claimTask}\n                    active={active}\n                    setActive={setActive}\n                    showVerifyButtons={showVerifyButtons}\n                    countdowns={countdowns}\n                    buttonText={buttonText}\n                    submittedYt={submittedYt}\n                    claiming={claiming}\n                    userYoutubeTasks={userYoutubeTasks}\n                    modalMessage={modalMessage}\n                    setModalMessage={setModalMessage}\n                    setModalOpen={setModalOpen}\n                    modalOpen={modalOpen}\n                    closeModal={closeModal}\n                    closeModal2={closeModal2}\n                    congrats='/congrats.gif'\n                    claimedBonus={claimedBonus}\n                />\n            )}\n            <div className='w-full absolute top-[50px] left-0 right-0 flex justify-center z-[60] pointer-events-none select-none'>\n                {congrats ? (<img src='/congrats.gif' alt=\"congrats\" className=\"w-[80%]\" />) : (<></>)}\n            </div>\n            <div\n                className={`${modalOpen ? \"visible\" : \"invisible\"} fixed top-[-12px] bottom-0 left-0 z-50 right-0 h-[100vh] bg-[#00000042] flex justify-center items-center backdrop-blur-[6px] px-4`}\n            >\n                <div className={`${modalOpen ? \"opacity-100 mt-0 ease-in duration-300\" : \"opacity-0 mt-[100px]\"} w-full bg-modal relative rounded-[16px] flex flex-col justify-center p-8`}>\n                    {modalMessage}\n                </div>\n            </div>\n        </>\n    );\n};\n\nconst TaskModal = ({\n    task,\n    onClose,\n    performTask,\n    startCountdown,\n    claimTask,\n    showVerifyButtons,\n    countdowns,\n    buttonText,\n    submittedYt,\n    claiming,\n    userYoutubeTasks,\n    active,\n    setActive,\n    modalMessage,\n    modalOpen,\n    closeModal,\n    setModalMessage,\n    setModalOpen,\n    closeModal2,\n    congrats,\n    claimedBonus\n}) => {\n    const isTaskSaved = !!userYoutubeTasks.find(t => t.taskId === task.id);\n    const isTaskCompleted = isTaskSaved && userYoutubeTasks.find(t => t.taskId === task.id).completed;\n    const formatNumber = (num) => {\n        if (num < 100000) {\n            return new Intl.NumberFormat().format(num).replace(/,/g, \" \");\n        } else if (num < 1000000) {\n            return new Intl.NumberFormat().format(num).replace(/,/g, \" \");\n        } else {\n            return (num / 1000000).toFixed(3).replace(\".\", \".\") + \" M\";\n        }\n    };\n\n    const notVerified = () => {\n\n        setModalOpen(true)\n        setModalMessage(\n            <>\n            <div className=\"w-full flex justify-center flex-col items-center space-y-3\">\n                <div className=\"w-full items-center justify-center flex flex-col space-y-2\">\n                    <CiNoWaitingSign size={32} className=\"text-btn4\" />\n                    <p className='font-medium text-center'>You have not watched this video completely yet!</p>\n                </div>\n                <p className=\"pb-6 text-[#9a96a6] text-[15px] w-full text-center\">\n                   Click on the watch video button and ensure you watch the video completely before you come back to claim your reward.\n                </p>\n            </div>\n\n            <div className=\"w-full flex justify-center\">\n<button\n  onClick={closeModal2}\n  className={`bg-btn4 text-[#000]  w-full py-3 px-3 flex items-center justify-center text-center rounded-[12px] font-semibold text-[16px]`}\n>\n  Okay, Understood!\n</button>\n</div>\n            </>\n        );\n    }\n\n    return (\n        <div className=\"fixed z-50 left-0 right-0 top-[-12px] bottom-0 flex justify-center taskbg px-[16px]\">\n            <div className=\"w-full flex flex-col items-center justify-start pt-5\">\n                <div className=\"flex w-full flex-col\">\n\n                    <div className='w-full flex justify-end pt-4 pb-8'>\n                    <button\n  onClick={onClose}\n   className=\"flex items-center justify-center h-[32px] w-[32px] rounded-full bg-[#383838] absolute right-6 top-6 text-center font-medium text-[16px]\"\n            >\n             <IoClose size={20} className=\"text-[#9995a4]\"/>\n            </button>\n\n                    </div>\n\n                    <h1 className=\"text-[20px] font-semibold w-full text-center\">{task.title}</h1>\n                    <p className=\"text-secondary text-[15px] font-medium pt-1 pb-4 w-full text-center\">\n                        {task.description}\n                    </p>\n                    <div className=\"bg-cards rounded-[10px] p-[14px] flex items-center justify-between mb-3\">\n                        <div className='flex flex-1 items-center space-x-1'>\n                            <div className=\"\">\n                                <img src=\"/coin.webp\" className=\"w-[16px]\" alt=\"Coin Icon\" />\n                            </div>\n                            <div className=\"flex items-center space-x-1\">\n                                <span className=\"font-semibold text-secondary\">Reward:</span>\n                                <span className=\"font-semibold\">+{formatNumber(task.bonus)}</span>\n                            </div>\n                        </div>\n                        {isTaskSaved || isTaskCompleted ? (\n                            <span className=\"text-center text-[14px] font-semibold text-[#49ee49] flex items-center space-x-1\">\n                                <span className=''>\n                                    Done</span>\n                                <IoCheckmarkCircle size={20} className='' />\n                            </span>\n                        ) : (\n                            <span className=\"w-[14px] h-[14px] animate-pulse bg-btn4 rounded-full flex items-center\" />\n                        )}\n                    </div>\n                    <div className=\"bg-cards rounded-[10px] p-[14px] flex flex-col space-y-2 justify-center items-center\">\n                        <div className=\"flex justify-center items-center relative\">\n                            <img onClick={() => performTask(task.id)} src={task.thumb} alt='thumb' className='w-full aspect-video rounded-[8px]' />\n                            <img onClick={() => performTask(task.id)} src='/youtube.svg' alt='rfcdsv' className='absolute w-[60px]' />\n                        </div>\n                      \n                            <button\n                                onClick={() => performTask(task.id)}\n                                className=\"w-full py-[10px] px-4 font-medium bg-btn hover:bg-btn3 hover:text-[#000] ease-in duration-200 rounded-[6px]\"\n                            >\n                                Watch video\n                            </button>\n                    \n\n\n{isTaskSaved || isTaskCompleted ? (\n                             <span className=\"w-full py-[10px] px-4 font-medium bg-cards text-center text-[#7cf47c] ease-in duration-200 rounded-[6px]\">\n                                Done</span>\n                        ) : (\n                            <>\n                            </>\n                        )}\n\n\n                        <div className='w-full flex flex-col space-y-2 items-center justify-center'>\n                            <div className='w-full flex items-center text-[14px] justify-center relative mt-1 mb-4'>\n                                \n                                \n                                \n                            {!showVerifyButtons[task.id] ? (\n                                <button\n                               onClick={notVerified}\n                               disabled={!active}\n                                className={`${active ? 'bg-btn4 text-[#000]' : 'bg-[#383838] text-[#888]'} w-full py-3 px-4 font-semibold rounded-[6px] text-[17px]`}\n                            >\n                               Verify\n                            </button>\n\n                            ) : (\n<>\n                    {!isTaskSaved && !isTaskCompleted && (\n                        <>\n                            {countdowns[task.id] === undefined && (\n                                <button\n                                    onClick={() => startCountdown(task.id)}\n                                    className={`${submittedYt[task.id] ? \"bg-btn4 text-[#000]\" : buttonText[task.id] || \"bg-btn4 text-[#000]\"} ${!showVerifyButtons[task.id] ? \"!bg-[#383838] !text-[#888]\" : \"bg-btn3 text-[#000]\"} w-full py-3 px-4 font-semibold rounded-[6px] text-[17px]`}\n                                    disabled={!showVerifyButtons[task.id]}\n                                >\n                                    {submittedYt[task.id] ? 'Verify' : 'Verify'}\n                                </button>\n                            )}\n                        </>\n                    )}\n</>\n                            )}\n\n\n\n                                {countdowns[task.id] !== null && countdowns[task.id] !== undefined && (\n                                    <span className=\"w-full py-3 px-4 font-medium text-center rounded-[6px] bg-[#383838] text-[#fff]\">\n                                        checking {countdowns[task.id]}s\n                                    </span>\n                                )}\n                            </div>\n                            <button\n                                onClick={() => claimTask(task.id)}\n                                className={`${isTaskSaved && !isTaskCompleted ? 'bg-btn4 text-[#000]' : 'bg-[#383838] text-[#888]'} w-full py-4 px-3 mt-6 flex items-center rounded-[12px] justify-center text-center text-[18px] font-semibold`}\n                                disabled={claiming[task.id] || !isTaskSaved || isTaskCompleted}\n                            >\n                              {!isTaskCompleted ? 'Finish Task' : 'Task Completed'}\n                            </button>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    );\n};\n\nexport default YouTubeTasks;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}